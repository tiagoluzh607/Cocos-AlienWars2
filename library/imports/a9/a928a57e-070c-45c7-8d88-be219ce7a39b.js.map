{"version":3,"sources":["..\\..\\..\\assets/assets\\Inimigo.js"],"names":["Personagem","require","cc","Class","extends","properties","_alvo","Node","velocidade","tempoAtaque","onLoad","find","schedule","atirar","tomarDano","jogador","getComponent","adicionarPonto","node","destroy","disparo","instantiate","tiroPrefab","parent","position","group","componenteTiro","direcao","_direcao","mudarDirecao","sub","normalize","update","dt","deslocamento","mul","add"],"mappings":";;;;;;AAAA,IAAIA,aAAaC,QAAQ,YAAR,CAAjB;AACAC,GAAGC,KAAH,CAAS;AACLC,aAASJ,UADJ;;AAGLK,gBAAY;;AAERC,eAAMJ,GAAGK,IAFD;AAGRC,oBAAa,EAHL;AAIRC,qBAAa;;AAJL,KAHP;;AAWL;AACAC,YAAQ,kBAAY;AAChB,aAAKJ,KAAL,GAAaJ,GAAGS,IAAH,CAAQ,MAAR,CAAb;AACA,aAAKC,QAAL,CAAc,KAAKC,MAAnB,EAA2B,KAAKJ,WAAhC;AAEH,KAhBI;;AAkBLK,eAAU,qBACV;AACI,YAAIC,UAAU,KAAKT,KAAL,CAAWU,YAAX,CAAwB,SAAxB,CAAd;AACAD,gBAAQE,cAAR,CAAuB,EAAvB;AACA,aAAKC,IAAL,CAAUC,OAAV;AACH,KAvBI;;AAyBLN,YAAQ,kBACR;AACI,YAAIO,UAAUlB,GAAGmB,WAAH,CAAe,KAAKC,UAApB,CAAd;AACAF,gBAAQG,MAAR,GAAiB,KAAKL,IAAL,CAAUK,MAA3B;AACAH,gBAAQI,QAAR,GAAmB,KAAKN,IAAL,CAAUM,QAA7B;AACAJ,gBAAQK,KAAR,GAAgB,KAAKP,IAAL,CAAUO,KAA1B;AACA,YAAIC,iBAAiBN,QAAQJ,YAAR,CAAqB,MAArB,CAArB;AACAU,uBAAeC,OAAf,GAAyB,KAAKC,QAA9B;AACH,KAjCI;;AAmCLC,kBAAe,wBACf;AACI,YAAIF,UAAU,KAAKrB,KAAL,CAAWkB,QAAX,CAAoBM,GAApB,CAAwB,KAAKZ,IAAL,CAAUM,QAAlC,CAAd;AACAG,kBAAUA,QAAQI,SAAR,EAAV;AACA,aAAKH,QAAL,GAAgBD,OAAhB;AACH,KAxCI;;AA0CL;AACCK,YAAQ,gBAAUC,EAAV,EAAc;AAClB,aAAKJ,YAAL;AACA,YAAIK,eAAe,KAAKN,QAAL,CAAcO,GAAd,CAAkB,KAAK3B,UAAL,GAAkByB,EAApC,CAAnB;AACA,aAAKf,IAAL,CAAUM,QAAV,GAAqB,KAAKN,IAAL,CAAUM,QAAV,CAAmBY,GAAnB,CAAuBF,YAAvB,CAArB;AACH;AA/CG,CAAT","file":"Inimigo.js","sourceRoot":"..\\..\\..\\assets","sourcesContent":["let Personagem = require(\"Personagem\");\r\ncc.Class({\r\n    extends: Personagem,\r\n\r\n    properties: {\r\n\r\n        _alvo:cc.Node,\r\n        velocidade : 50,\r\n        tempoAtaque: 1,\r\n\r\n    },\r\n\r\n    // use this for initialization\r\n    onLoad: function () {\r\n        this._alvo = cc.find(\"hero\");\r\n        this.schedule(this.atirar, this.tempoAtaque);\r\n\r\n    },\r\n    \r\n    tomarDano:function()\r\n    {\r\n        let jogador = this._alvo.getComponent(\"Jogador\");\r\n        jogador.adicionarPonto(10);\r\n        this.node.destroy();    \r\n    },\r\n    \r\n    atirar: function()\r\n    {\r\n        let disparo = cc.instantiate(this.tiroPrefab);\r\n        disparo.parent = this.node.parent;\r\n        disparo.position = this.node.position;\r\n        disparo.group = this.node.group;\r\n        let componenteTiro = disparo.getComponent(\"Tiro\");\r\n        componenteTiro.direcao = this._direcao;\r\n    },\r\n\r\n    mudarDirecao : function()\r\n    {\r\n        let direcao = this._alvo.position.sub(this.node.position);\r\n        direcao = direcao.normalize();\r\n        this._direcao = direcao;\r\n    },\r\n\r\n    // called every frame, uncomment this function to activate update callback\r\n     update: function (dt) {\r\n         this.mudarDirecao();\r\n         let deslocamento = this._direcao.mul(this.velocidade * dt);\r\n         this.node.position = this.node.position.add(deslocamento);\r\n     },\r\n});\r\n"]}