{"version":3,"sources":["Inimigo.js"],"names":["cc","Class","extends","Component","properties","_alvo","Node","_direcao","Vec2","velocidade","tiroPrefab","Prefab","tempoAtaque","onLoad","find","schedule","atirar","disparo","instantiate","parent","node","position","componenteTiro","getComponent","direcao","mudarDirecao","sub","normalize","update","dt","deslocamento","mul","add"],"mappings":";;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEAA,GAAGC,KAAH,CAAS;AACLC,UAASF,GAAGG,SADP;;AAGLC,aAAY;;AAGbC,SAAML,GAAGM,IAHI;AAIbC,YAAUP,GAAGQ,IAJA;AAKbC,cAAY,EALC;;AAObC,cAAYV,GAAGW,MAPF;AAQbC,eAAa;;AARA,EAHP;;AAeRC,SAAQ,kBAAU;;AAEjB,OAAKR,KAAL,GAAaL,GAAGc,IAAH,CAAQ,MAAR,CAAb,CAFiB,CAEa;;AAE9B,OAAKC,QAAL,CAAc,KAAKC,MAAnB,EAA2B,KAAKJ,WAAhC;AAEA,EArBO;;AAuBRI,SAAQ,kBAAU;AACjB,MAAIC,UAAUjB,GAAGkB,WAAH,CAAe,KAAKR,UAApB,CAAd;AACAO,UAAQE,MAAR,GAAiB,KAAKC,IAAL,CAAUD,MAA3B;AACAF,UAAQI,QAAR,GAAmB,KAAKD,IAAL,CAAUC,QAA7B;;AAEA;AACA,MAAIC,iBAAiBL,QAAQM,YAAR,CAAqB,MAArB,CAArB;AACAD,iBAAeE,OAAf,GAAyB,KAAKjB,QAA9B;AACA,EA/BO;;AAiCRkB,eAAc,wBAAU;AACvB,MAAID,UAAU,KAAKnB,KAAL,CAAWgB,QAAX,CAAoBK,GAApB,CAAwB,KAAKN,IAAL,CAAUC,QAAlC,CAAd;AACAG,YAAUA,QAAQG,SAAR,EAAV;AACA,OAAKpB,QAAL,GAAgBiB,OAAhB;AACA,EArCO;;AAuCRI,SAAQ,gBAASC,EAAT,EAAY;AACnB,OAAKJ,YAAL;AACA,MAAIK,eAAe,KAAKvB,QAAL,CAAcwB,GAAd,CAAkB,KAAKtB,UAAL,GAAkBoB,EAApC,CAAnB;AACA,OAAKT,IAAL,CAAUC,QAAV,GAAqB,KAAKD,IAAL,CAAUC,QAAV,CAAmBW,GAAnB,CAAuBF,YAAvB,CAArB;AACA;;AA3CO,CAAT","file":"Inimigo.js","sourceRoot":"..\\..\\..\\assets","sourcesContent":["// Learn cc.Class:\r\n//  - [Chinese] http://docs.cocos.com/creator/manual/zh/scripting/class.html\r\n//  - [English] http://www.cocos2d-x.org/docs/creator/en/scripting/class.html\r\n// Learn Attribute:\r\n//  - [Chinese] http://docs.cocos.com/creator/manual/zh/scripting/reference/attributes.html\r\n//  - [English] http://www.cocos2d-x.org/docs/creator/en/scripting/reference/attributes.html\r\n// Learn life-cycle callbacks:\r\n//  - [Chinese] http://docs.cocos.com/creator/manual/zh/scripting/life-cycle-callbacks.html\r\n//  - [English] http://www.cocos2d-x.org/docs/creator/en/scripting/life-cycle-callbacks.html\r\n\r\ncc.Class({\r\n    extends: cc.Component,\r\n\r\n    properties: {\r\n      \r\n\t  \r\n\t  _alvo:cc.Node,\r\n\t  _direcao: cc.Vec2,\r\n\t  velocidade: 50,\r\n\t  \r\n\t  tiroPrefab: cc.Prefab,\r\n\t  tempoAtaque: 1,\r\n\t  \r\n    },\r\n\r\n\tonLoad: function(){\r\n\t\t\r\n\t\tthis._alvo = cc.find(\"hero\"); //buscando node do hero\r\n\t\t\r\n\t\tthis.schedule(this.atirar, this.tempoAtaque);\r\n\t\t\r\n\t},\r\n\t\r\n\tatirar: function(){\r\n\t\tlet disparo = cc.instantiate(this.tiroPrefab);\r\n\t\tdisparo.parent = this.node.parent;\r\n\t\tdisparo.position = this.node.position;\r\n\t\t\r\n\t\t//direcao do disparo\r\n\t\tlet componenteTiro = disparo.getComponent(\"Tiro\");\r\n\t\tcomponenteTiro.direcao = this._direcao;\r\n\t},\r\n   \r\n\tmudarDirecao: function(){\r\n\t\tlet direcao = this._alvo.position.sub(this.node.position);\r\n\t\tdirecao = direcao.normalize();\r\n\t\tthis._direcao = direcao;\r\n\t},\r\n\t\r\n\tupdate: function(dt){\r\n\t\tthis.mudarDirecao();\r\n\t\tlet deslocamento = this._direcao.mul(this.velocidade * dt);\r\n\t\tthis.node.position = this.node.position.add(deslocamento);\r\n\t},\r\n   \r\n});\r\n"]}