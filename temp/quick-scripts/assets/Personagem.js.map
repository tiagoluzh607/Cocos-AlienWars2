{"version":3,"sources":["Personagem.js"],"names":["Personagem","cc","Class","extends","Component","properties","tiroPrefab","Prefab","_direcao","Vec2","onLoad","calcularDirecao","destino","direcao","sub","node","position","normalize","olharPara","angulo","Math","atan2","y","x","PI","atirar","disparo","instantiate","parent","group","componenteTiro","getComponent","tomarDano","onCollisionEnter","outro","eu","update","dt","module","exports"],"mappings":";;;;;;AAAA,IAAIA,aAAaC,GAAGC,KAAH,CAAS;AACtBC,aAASF,GAAGG,SADU;;AAGtBC,gBAAY;;AAEdC,oBAAYL,GAAGM,MAFD;AAGdC,kBAAUP,GAAGQ;AAHC,KAHU;;AAStB;AACAC,YAAQ,kBAAY,CAEnB,CAZqB;;AAczBC,qBAAiB,yBAASC,OAAT,EAAiB;;AAEjC,YAAIC,UAAUD,QAAQE,GAAR,CAAY,KAAKC,IAAL,CAAUC,QAAtB,CAAd;AACAH,kBAAUA,QAAQI,SAAR,EAAV;AACA,eAAOJ,OAAP;AACA,KAnBwB;;AAqBzBK,eAAW,mBAASL,OAAT,EAAiB;AAC3B,YAAIM,SAASC,KAAKC,KAAL,CAAWR,QAAQS,CAAnB,EAAsBT,QAAQU,CAA9B,CAAb,CAD2B,CACoB;AAC/CJ,iBAAS,CAACA,MAAD,IAAW,MAAIC,KAAKI,EAApB,CAAT,CAF2B,CAEO;AAClC,eAAOL,MAAP;AACA,KAzBwB;;AA2BzBM,YAAO,kBAAU;AAChB,YAAIC,UAAUzB,GAAG0B,WAAH,CAAe,KAAKrB,UAApB,CAAd;AACAoB,gBAAQE,MAAR,GAAiB,KAAKb,IAAL,CAAUa,MAA3B;AACAF,gBAAQV,QAAR,GAAmB,KAAKD,IAAL,CAAUC,QAA7B;AACAU,gBAAQG,KAAR,GAAgB,KAAKd,IAAL,CAAUc,KAA1B;;AAEA,YAAIC,iBAAiBJ,QAAQK,YAAR,CAAqB,MAArB,CAArB;AACAD,uBAAejB,OAAf,GAAyB,KAAKL,QAA9B;AACA,KAnCwB;;AAqCzBwB,eAAU,qBAAU,CAEnB,CAvCwB;;AAyCtBC,sBAAiB,0BAASC,KAAT,EAAgBC,EAAhB,EACjB,CAEC,CA5CqB;;AA8CtB;AACCC,YAAQ,gBAAUC,EAAV,EAAc,CAErB;AAjDoB,CAAT,CAAjB;;AAoDAC,OAAOC,OAAP,GAAiBvC,UAAjB","file":"Personagem.js","sourceRoot":"..\\..\\..\\assets","sourcesContent":["let Personagem = cc.Class({\r\n    extends: cc.Component,\r\n\r\n    properties: {\r\n      \r\n\t\ttiroPrefab: cc.Prefab,\r\n\t\t_direcao: cc.Vec2,\r\n    },\r\n\r\n    // use this for initialization\r\n    onLoad: function () {\r\n\r\n    },\r\n    \r\n\tcalcularDirecao: function(destino){\r\n\t\t\r\n\t\tlet direcao = destino.sub(this.node.position);\r\n\t\tdirecao = direcao.normalize();\r\n\t\treturn direcao\r\n\t},\r\n\t\r\n\tolharPara: function(direcao){\r\n\t\tlet angulo = Math.atan2(direcao.y, direcao.x); //retorna em radiano\r\n\t\tangulo = -angulo * (180/Math.PI); // transforma de radianos em graus\r\n\t\treturn angulo;\r\n\t},\r\n\t\r\n\tatirar:function(){\r\n\t\tlet disparo = cc.instantiate(this.tiroPrefab);\r\n\t\tdisparo.parent = this.node.parent;\r\n\t\tdisparo.position = this.node.position;\r\n\t\tdisparo.group = this.node.group;\r\n\t\t\r\n\t\tlet componenteTiro = disparo.getComponent(\"Tiro\");\r\n\t\tcomponenteTiro.direcao = this._direcao;\r\n\t},\r\n\t\r\n\ttomarDano:function(){\r\n\t\t\r\n\t},\r\n\t\r\n    onCollisionEnter:function(outro, eu)\r\n    {\r\n\t\t\r\n    },\r\n\r\n    // called every frame, uncomment this function to activate update callback\r\n     update: function (dt) {\r\n\r\n     },\r\n});\r\n\r\nmodule.exports = Personagem;\r\n"]}